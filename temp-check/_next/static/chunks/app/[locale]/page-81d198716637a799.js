(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[465],{4585:(e,a,s)=>{"use strict";s.d(a,{j:()=>l});var r=s(2078),t=s(2553),i=s(9708);let n=(0,r.Dk)().length?(0,r.Dk)()[0]:(0,r.Wp)({apiKey:"AIzaSyDRL77gUiYy4tKZVq-cdenMRDkl-WI_bXI",authDomain:"anna-logica-pro.firebaseapp.com",projectId:"anna-logica-pro",storageBucket:"anna-logica-pro.firebasestorage.app",messagingSenderId:"870966968115",appId:"1:870966968115:web:e0ebc042603bbc1df74846"}),l=(0,t.xI)(n);(0,i.aU)(n)},4794:(e,a,s)=>{"use strict";s.d(a,{default:()=>h});var r=s(5155),t=s(2115),i=s(3791);function n(e,a){return(...e)=>{try{return a(...e)}catch{throw Error(void 0)}}}let l=n(0,i.c3);n(0,i.kc);var c=s(4901),d=s(4585),o=s(2553);function x(e){let{aiAnalysis:a}=e,s=l("TranscriptionView");return(null==a?void 0:a.transcription)?(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold mb-4 text-gray-900",children:s("title")}),(0,r.jsx)("div",{className:"max-h-96 overflow-y-auto text-gray-700 text-base leading-relaxed whitespace-pre-wrap",children:a.transcription})]}):null}function m(e){let{aiAnalysis:a}=e,s=l("SummaryView");return(null==a?void 0:a.summary)?(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold mb-4 text-gray-900",children:s("title")}),(0,r.jsx)("p",{className:"text-gray-700 text-base leading-relaxed",children:a.summary})]}):null}function u(e){let{aiAnalysis:a}=e,s=l("TagsView");if(!a)return null;let{speakers:t,tags:i}=a;return(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[t.length>0&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-3 text-gray-900",children:s("speakersTitle")}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:t.map(e=>(0,r.jsx)("span",{className:"bg-orange-100 text-orange-700 px-3 py-1 rounded-full text-sm font-medium",children:e},e))})]}),i.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-3 text-gray-900",children:s("tagsTitle")}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:i.map(e=>(0,r.jsxs)("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm font-medium",children:["#",e]},e))})]})]})}function h(){l("DashboardPage");let{user:e,loading:a}=(0,c.A)(),[s,i]=(0,t.useState)(null),[n,d]=(0,t.useState)(!1),[o,h]=(0,t.useState)(null),[g,p]=(0,t.useState)([]),[b,y]=(0,t.useState)("es"),[j,f]=(0,t.useState)(""),[v,N]=(0,t.useState)(""),[w,D]=(0,t.useState)("detailed"),[k,A]=(0,t.useState)("en"),C=async(e,a)=>{let s=await fetch("/api/".concat(e),{method:"POST",body:a});if(!s.ok)throw Error((await s.json()).error||"Error calling ".concat(e));return s.json()},S=async e=>{if(0===g.length)return void h("Por favor selecciona al menos un archivo");f(e),d(!0),h(null),i(null);try{let a,s=g[0],r=new FormData;switch(r.append("file",s),r.append("language",b),e){case"transcribir":a=await C("transcribe",r);break;case"identificar":r.append("speakerHints",v),a=await C("identify-speakers",r);break;case"resumir":r.append("summaryType",w),a=await C("summarize",r);break;case"traducir":r.append("targetLanguage",k),r.append("sourceLanguage",b),a=await C("translate",r);break;case"analizar":r.append("analysisType","complete"),a=await C("analyze",r);break;default:throw Error("Acci\xf3n no reconocida")}i({action:e,data:a,fileName:s.name,timestamp:new Date().toISOString()})}catch(e){h(e instanceof Error?e.message:"Error al procesar el archivo")}finally{d(!1),f("")}},E=(e=>{if(!e)return null;let{action:a,data:s}=e;switch(a){case"transcribir":return{aiAnalysis:{transcription:s.transcription||"",summary:"Transcripci\xf3n en ".concat(s.language||"idioma detectado"),speakers:[],tags:["transcripci\xf3n",s.language||"audio"]}};case"identificar":return{aiAnalysis:{transcription:"",summary:s.summary||"Identificaci\xf3n de oradores",speakers:[],tags:["identificaci\xf3n","oradores","an\xe1lisis"]}};case"resumir":return{aiAnalysis:{transcription:"",summary:s.summary||"Resumen del contenido",speakers:[],tags:s.tags||[]}};case"traducir":return{aiAnalysis:{transcription:s.translatedText||"",summary:"Traducido de ".concat(s.sourceLanguage," a ").concat(s.targetLanguage),speakers:[],tags:["traducci\xf3n",s.sourceLanguage,s.targetLanguage]}};case"analizar":return{aiAnalysis:{transcription:"",summary:"An\xe1lisis completo del archivo",speakers:[],tags:["an\xe1lisis","t\xe9cnico"]},technicalData:s.technicalData};default:return{aiAnalysis:{transcription:"",summary:"Resultado del an\xe1lisis",speakers:[],tags:[]}}}})(s);return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsxs)("div",{className:"fixed top-0 left-0 right-0 bg-orange-500 text-white px-4 py-2 text-center text-sm font-medium z-50",children:["\uD83D\uDE80 Modo Demo - Sin autenticaci\xf3n requerida |",(0,r.jsx)("button",{onClick:()=>window.location.reload(),className:"ml-2 underline hover:no-underline",children:"Salir del modo demo"})]}),(0,r.jsx)("div",{className:"fixed ".concat("top-16"," right-6 z-40"),children:(0,r.jsxs)("div",{className:"flex items-center gap-2 bg-white px-3 py-2 rounded-lg shadow-sm border border-gray-200",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Ajustes"}),(0,r.jsx)("div",{className:"w-5 h-5 text-gray-600",children:(0,r.jsx)("span",{children:"⚙️"})})]})}),(0,r.jsxs)("div",{className:"flex ".concat("pt-10"),style:{height:"100vh"},children:[(0,r.jsxs)("div",{className:"bg-white border-r border-gray-200 p-6 flex flex-col",style:{width:"33.333%",minWidth:"33.333%",maxWidth:"33.333%",height:"100%"},children:[(0,r.jsx)("div",{className:"flex items-center mb-6",children:(0,r.jsx)("h1",{className:"text-3xl text-orange-500 tracking-tight",style:{fontFamily:"var(--font-orbitron)",fontWeight:"900"},children:"anna logica"})}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:border-orange-400 transition-colors",onDragOver:e=>{e.preventDefault()},onDrop:e=>{e.preventDefault();let a=Array.from(e.dataTransfer.files);p(e=>[...e,...a].slice(0,50))},onClick:()=>{var e;return null==(e=document.getElementById("file-input"))?void 0:e.click()},children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,r.jsx)("span",{className:"text-orange-500 text-sm",children:"\uD83D\uDCC1"}),(0,r.jsx)("h2",{className:"text-sm font-medium text-gray-900",children:"Carga de Archivos"})]}),(0,r.jsx)("p",{className:"text-xs text-gray-600 mb-3",children:"Sube hasta 50 archivos de audio, video o texto."}),(0,r.jsx)("div",{className:"text-gray-400 mb-3",children:(0,r.jsx)("svg",{className:"w-6 h-6 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 0115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),(0,r.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Arrastra y suelta hasta 50 archivos aqu\xed"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"o"}),(0,r.jsx)("button",{className:"text-orange-500 text-xs font-medium hover:text-orange-600",children:"Selecciona archivos de tu equipo"}),(0,r.jsx)("input",{id:"file-input",type:"file",multiple:!0,className:"hidden",onChange:e=>{let a=Array.from(e.target.files||[]);p(e=>[...e,...a].slice(0,50))},accept:"audio/*,video/*,.txt,.docx,.pdf"})]})}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,r.jsx)("span",{className:"text-orange-500 text-sm",children:"\uD83E\uDD16"}),(0,r.jsx)("h2",{className:"text-sm font-medium text-gray-900",children:"Acciones IA"})]}),(0,r.jsx)("p",{className:"text-xs text-gray-600 mb-3",children:"Selecciona archivos y aplica una acci\xf3n de IA."}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Idioma del Contenido"}),(0,r.jsxs)("select",{value:b,onChange:e=>y(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-xs focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[(0,r.jsx)("option",{value:"auto",children:"Detecci\xf3n autom\xe1tica"}),(0,r.jsx)("option",{value:"es",children:"Espa\xf1ol"}),(0,r.jsx)("option",{value:"en",children:"English"}),(0,r.jsx)("option",{value:"fr",children:"Fran\xe7ais"}),(0,r.jsx)("option",{value:"ca",children:"Catal\xe0"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsx)("button",{onClick:()=>S("transcribir"),disabled:n,className:"p-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-xs font-medium transition-colors disabled:opacity-50",children:"\uD83D\uDCDD Transcribir"}),(0,r.jsx)("button",{onClick:()=>S("identificar"),disabled:n,className:"p-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-xs font-medium transition-colors disabled:opacity-50",children:"\uD83D\uDC65 Identificar Oradores"})]}),(0,r.jsx)("button",{onClick:()=>S("resumir"),disabled:n,className:"w-full p-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-xs font-medium transition-colors disabled:opacity-50",children:"\uD83D\uDCCB Resumir y Etiquetar"}),(0,r.jsxs)("div",{className:"flex items-center gap-3 text-xs mb-2",children:[(0,r.jsxs)("label",{className:"flex items-center gap-1",children:[(0,r.jsx)("input",{type:"radio",name:"summary",className:"accent-orange-500 scale-75",checked:"short"===w,onChange:()=>D("short")}),(0,r.jsx)("span",{className:"text-gray-700",children:"Corto"})]}),(0,r.jsxs)("label",{className:"flex items-center gap-1",children:[(0,r.jsx)("input",{type:"radio",name:"summary",className:"accent-orange-500 scale-75",checked:"detailed"===w,onChange:()=>D("detailed")}),(0,r.jsx)("span",{className:"text-gray-700",children:"Detallado"})]})]}),(0,r.jsx)("input",{type:"text",placeholder:"Pistas de oradores (ej: Ana, Juan)",value:v,onChange:e=>N(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-xs focus:ring-2 focus:ring-orange-500 focus:border-orange-500 mb-2"}),(0,r.jsx)("button",{onClick:()=>S("traducir"),disabled:n,className:"w-full p-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-xs font-medium transition-colors disabled:opacity-50 mb-2",children:"\uD83C\uDF10 Traducir"}),(0,r.jsxs)("select",{value:k,onChange:e=>A(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-xs focus:ring-2 focus:ring-orange-500 focus:border-orange-500 mb-3",children:[(0,r.jsx)("option",{value:"en",children:"Ingl\xe9s"}),(0,r.jsx)("option",{value:"es",children:"Espa\xf1ol"}),(0,r.jsx)("option",{value:"fr",children:"Fran\xe7ais"}),(0,r.jsx)("option",{value:"ca",children:"Catal\xe0"})]}),(0,r.jsx)("button",{onClick:()=>S("analizar"),disabled:n,className:"w-full p-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-xs font-medium transition-colors disabled:opacity-50",children:"\uD83D\uDCCA Analizar Fichero"})]})]})]}),(0,r.jsxs)("div",{className:"flex-1 p-6 overflow-y-auto",style:{height:"100%"},children:[(0,r.jsx)("div",{className:"mb-6",style:{height:"28px"}}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",style:{height:"calc(100vh - 200px)",minHeight:"500px"},children:[(0,r.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)("span",{className:"text-orange-500 text-sm",children:"\uD83D\uDCC1"}),(0,r.jsx)("h2",{className:"text-sm font-medium text-gray-900",children:"Archivos"})]}),(0,r.jsx)("p",{className:"text-xs text-gray-600",children:"Archivos cargados y resultados del procesamiento"})]}),o&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 mx-4 mb-4 rounded-md text-xs",children:o}),n&&(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 text-blue-700 px-4 py-3 mx-4 mb-4 rounded-md flex items-center gap-3 text-xs",children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,r.jsxs)("span",{children:["Procesando ",j,"..."]})]}),E?(0,r.jsx)("div",{className:"px-4 py-6",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Resultados del An\xe1lisis"}),(0,r.jsx)("button",{onClick:()=>i(null),className:"px-3 py-1 bg-orange-500 text-white rounded-md hover:bg-orange-600 transition-colors text-xs",children:"Analizar otro archivo"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,r.jsx)(m,{aiAnalysis:E.aiAnalysis}),(0,r.jsx)(x,{aiAnalysis:E.aiAnalysis})]}),(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsx)(u,{aiAnalysis:E.aiAnalysis})})]})]})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"px-4 py-3 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("input",{type:"checkbox",className:"rounded border-gray-300 scale-75"}),(0,r.jsx)("span",{className:"text-xs font-medium text-gray-900 flex-1",children:"Nombre Archivo"}),(0,r.jsx)("span",{className:"text-xs font-medium text-gray-600 text-center",style:{minWidth:"80px"},children:"Estado"}),(0,r.jsx)("span",{className:"text-xs font-medium text-gray-600",children:"Acciones"})]})}),g.length>0?(0,r.jsx)("div",{className:"divide-y divide-gray-200",children:g.map((e,a)=>(0,r.jsxs)("div",{className:"px-4 py-3 flex items-center gap-4",children:[(0,r.jsx)("input",{type:"checkbox",className:"rounded border-gray-300 scale-75"}),(0,r.jsx)("span",{className:"flex-1 text-xs text-gray-900",children:e.name}),(0,r.jsx)("span",{className:"text-xs text-gray-500 text-center",style:{minWidth:"80px"},children:"Cargado"}),(0,r.jsx)("button",{onClick:()=>{p(e=>e.filter((e,s)=>s!==a))},className:"text-red-500 hover:text-red-700 text-xs",children:"Eliminar"})]},a))}):(0,r.jsx)("div",{className:"px-4 py-8 text-center",children:(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"A\xfan no has subido ning\xfan archivo."})})]})]})]})]})]})}},4901:(e,a,s)=>{"use strict";s.d(a,{A:()=>d,AuthProvider:()=>c});var r=s(5155),t=s(2115),i=s(2553),n=s(4585);let l=(0,t.createContext)({user:null,loading:!0}),c=e=>{let{children:a}=e,[s,c]=(0,t.useState)(null),[d,o]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{let e=(0,i.hg)(n.j,e=>{c(e),o(!1)});return()=>e()},[]),(0,r.jsx)(l.Provider,{value:{user:s,loading:d},children:a})},d=()=>(0,t.useContext)(l)},7282:(e,a,s)=>{Promise.resolve().then(s.bind(s,4794))}},e=>{e.O(0,[135,965,562,441,255,358],()=>e(e.s=7282)),_N_E=e.O()}]);